\chapter{Introduction}

Providing login credentials via application configuration is a common problem in software development.
Think of a web application which connects to a database server or stored tokens for authenticating to third party web-services.
These credentials are often stored as plain text in a configuration file, leaving them vulnerable to attack.
WordPress is a typical web application with a backend connecting to a database.
The login credentials for the database server are stored as plain text within a configuration file.\cite{wordpress-doc}
Another example is Hibernate, a popular object-relational mapping (ORM) tool written in Java.
Again the login credentials for the database are provided in an XML configuration file as plain text.\cite{hibernate-doc}
These are just two examples but there are many more.

In order to mitigate the risks of leaking plain text login credentials, cryptography should be applied to them.
Passwords and other sensitive configuration values should be stored encrypted.
The decryption process can be designed to be transparent to the application.

While cryptography is useful for our case, its introduction brings drawbacks as well.
Mainly two problems arise:
\begin{enumerate}
\item performance
\item usability
\end{enumerate}

We are not going to discuss drawbacks in usability, but focus on the performance drawbacks.
Cryptographic algorithms and their application have been studied and benchmarked in different contexts.\cite{thakur2011aes,ocf,freebsdtls}
The scope of this thesis is cryptography applied to application configuration settings.

\section{Elektra}

The Elektra project is a library combined with a set of tools to enable centralized configuration management.
It is extensible by a plugin system that enables the modification of configuration settings in a well-arranged manner.
The core of Elektra's source code is written in the C programming language.
Different language bindings offer availability in other programming languages (for example: Java, Python, Ruby) too.
Elektra supports several common configuration file formats out of the box, for example:\cite{raab2010thesis,elektra-doc}
\begin{enumerate}
\item INI
\item JSON
\item XML
\item Yaml
\end{enumerate}

All technical details, the source code and the documentation are available online.\footnote{Elektra project page: \url{https://www.libelektra.org}}

We choose Elektra as our reference project because of its focus on configuration and because of its extendebility.
Elektra offers many features, but it would still store login credentials as plain text originally.
Therefore during the writing of this thesis we developed plugins for Elektra which provide transparent encryption and decryption capabilities.

What we mean exactly by encryption and decryption is defined in the following section.

\section{Cryptography}

\subsection{Algorithms}

There are many cryptographic algorithms out there and there are even more implementations.
We can not (and should not) cover them all but focus on a typical setting that is viable for many applications.

\subsubsection{Symmetric Cipher}

The Advanced Encryption Standard (AES) is a widely used symmetric block-cipher that is specified in the Federal Information Processing Standards Publication (FIPS) 197.
The FIPS 197 is published by the National Institute of Standards and Technology (NIST).\cite{fips197}
AES supports three key lengths:
\begin{enumerate}
  \item 128 bits
  \item 192 bits
  \item 256 bits
\end{enumerate}

AES operates on data blocks with a size of 128 bits.\cite{fips197,stallings2014}
For the scope of this thesis we choose Cipher Block Chaining (CBC) Mode as the operation mode for AES.
In CBC mode the XOR operation is applied to the plain text and the previous ciphertext block before the actual encryption happens.\cite{bruceschneier1996,stallings2014}

In this thesis we mean AES with a key length of 256 bits in CBC mode when we are refering to a \emph{symmetric cipher}.
We are going to apply a symmetric cipher to single configuration values.
This way we can protect login credentials within configuration settings.

\subsubsection{Hybrid -- Combining asymmetric and symmetric cryptography}

Asymmetric ciphers tend to be slower than symmetric ciphers.
Thus they are often combined to a public-key cryptographic system.
Such systems utilize asymmetric cryptography to protect a key for a symmetric cipher.
The symmetric cipher protects the actual data.
This way the encrypted payload can be shared among multiple parties without the need for another encryption round for every participating party.\cite{stallings2014} 

The OpenPGP protocol is a widely used public-key cryptographic system.
It is specified in the RFC 4880.\cite{rfc4880}



\subsubsection{Digital Signatures}


\subsection{Providers of Cryptographic Operations}

  \subsubsection{GnuPG and libgcrypt}




The libgcrypt library is part of the GnuPG project, an open source implementation of the Pretty Good Privacy (PGP) protocol.
The developers of GnuPG encapsulated the low-level implementations of the cryptographic algorithms within libgcrypt.

The source code is also written in C and is available at the GnuPG project homepage.\footnote{GnuPG project homepage: \url{https://www.gnupg.org/}}

  \subsubsection{OpenSSL}

The OpenSSL project offers implementations of the Transport Layer Security (TLS) and the Secure Sockets Layer (SSL) protocols.
It also provides its own implementations of the underlying cryptographic operations, which are accessible via the interfaces of the libcrypto library.

The source code of OpenSSL is written in the C programming language.
It is available at the project homepage.\footnote{OpenSSL project homepage: \url{https://www.openssl.org/}}

  \subsubsection{Botan}

The Botan library is another provider of cryptographic functions.

The source code is written in C++ and is available at Github.\footnote{Github project page: \url{https://github.com/randombit/botan}}



In the following section we define which (possible) performance drawbacks we want to examine with Elektra.

\section{Research Question}

The focus of this work is to find out how much the use of cryptography
impacts application performance in terms of runtime and memory
usage.

We want to find out if the introduction of cryptography slows down the test application significantly.
Also we want to observe differences in memory usage while running the benchmarks.

The research questions this thesis aims to answer are enumerated below:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  How much more time does the use of cryptography cost (runtime impact)?
\item
  What is the ratio compared to the runtime if cryptography is not used?
\item
  Are there significant differences between different implementations of cryptographic algorithms?
\item
  How much more memory is used when using cryptography (memory impact)?
\item
  What is the ratio compared to the memory consumption if cryptography
  is not used?
\end{enumerate}

All of the questions refer to a typical user-space application, that is capable of handling file I/O in different volumes.

\section{Perspective}

The following chapter describes the changes that have been made to the Elektra project in preparation for benchmarking the impact of cryptography to applications.

\todo{TBD}
